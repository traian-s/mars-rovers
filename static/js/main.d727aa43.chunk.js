(window["webpackJsonpmars-rovers"]=window["webpackJsonpmars-rovers"]||[]).push([[0],{43:function(e,t,a){e.exports=a(77)},53:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(15),c=a.n(l),o=a(5),u=a(12),s=a(16),m="FETCH_ROVERS_PENDING",i="FETCH_ROVERS_SUCCESS",p="FETCH_ROVERS_ERROR",d="SET_DATE_TYPE",E="SELECT_ROVER",f="SELECT_EARTH_DATE",v="SELECT_SOL_DATE",h="SELECT_CAMERA",g="FETCH_IMAGES_PENDING",y="FETCH_IMAGES_SUCCESS",b="FETCH_IMAGES_ERROR";function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _={pending:!1,rovers:[{}],error:""};var D="Earth",j="Sol",w="active",S="complete";function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var C={dateType:D,roverName:"",earthDate:"",solDate:"",camera:"",selectedRover:{cameras:[]}};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var I={error:"",images:[],pending:!1};var x=Object(u.c)({roverReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return R({},e,{pending:!0,error:"",rovers:[]});case i:return R({},e,{pending:!1,rovers:t.payload});case p:return R({},e,{pending:!1,error:t.payload,rovers:[]});default:return e}},formReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return T({},e,{selectedRover:t.payload,roverName:t.payload.name,earthDate:t.payload.max_date,solDate:t.payload.max_sol,camera:""});case d:return T({},e,{dateType:t.payload});case f:return T({},e,{earthDate:t.payload});case v:return T({},e,{solDate:t.payload});case h:return T({},e,{camera:t.payload});default:return e}},imageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return k({},e,{error:"",pending:!0});case y:return k({},e,{images:t.payload,pending:!1});case b:return k({},e,{error:t.payload,images:[],pending:!1});default:return e}}}),A=a(39),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,M=Object(u.e)(x,L(Object(u.a)(A.a))),F=(a(53),a(83)),H=a(82),G=a(80),V=a(40),U=a(81),B=a(79),J=Object(o.b)(function(e){return{rovers:e.roverReducer.rovers}})(function(e){return e.rovers.map(function(e){return n.a.createElement(V.a,{className:"roverCol",lg:"4",key:e.id},n.a.createElement("h4",null,e.name),n.a.createElement("img",{src:"images/"+e.name+"_rover.jpg",alt:e.name,className:"w-100"}),n.a.createElement("table",{className:"w-100"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Mission Status:"),n.a.createElement("td",null,S===e.status&&n.a.createElement(B.a,{variant:"success"},e.status),w===e.status&&n.a.createElement(B.a,{variant:"primary"},e.status))),n.a.createElement("tr",null,n.a.createElement("td",null,"Photos Taken:"),n.a.createElement("td",null,n.a.createElement("span",null,e.total_photos))),n.a.createElement("tr",null,n.a.createElement("td",null,"Launch Date:"),n.a.createElement("td",null,n.a.createElement("span",null,e.launch_date))),n.a.createElement("tr",null,n.a.createElement("td",null,"Sols:"),n.a.createElement("td",null,n.a.createElement("span",null,e.max_sol))))))})}),W=a(85),X=Object(o.b)(function(e){return{images:e.imageReducer.images,Pending:e.imageReducer.pending,Error:e.imageReducer.error}})(function(e){var t=e.images,a=e.Pending,r=e.Error;return n.a.createElement(G.a,{className:"result_list justify-content-center"},n.a.createElement(V.a,{lg:6},a&&n.a.createElement(n.a.Fragment,null,"Searching for Images... ",n.a.createElement(U.a,{animation:"grow"})),null!==t&&t.length>0&&n.a.createElement(W.a,null,t.map(function(e){return n.a.createElement(W.a.Item,{key:e.id},n.a.createElement("img",{className:"d-block w-100",src:e.img_src,alt:"{row.id}"}),n.a.createElement(W.a.Caption,null,n.a.createElement("h3",null,e.id),n.a.createElement("p",null,"Taken by ",e.camera.full_name," (",e.camera.name,") ",n.a.createElement("br",null),"on ",e.earth_date," (Sol ",e.sol,")")))})),null!==t&&1>t.length&&!a&&!r&&n.a.createElement("p",null," No images found for selected parameters..."),r&&n.a.createElement("p",{className:"errorMessage"},"The following errors occurred: ",r)))}),Y=a(84),q=Object(o.b)(function(e){return{rovers:e.roverReducer.rovers}},{selectRover:function(e){return{type:E,payload:e}}})(function(e){var t=e.selectRover,a=e.rovers,r={id:0,name:"",landing_date:"",launch_date:"",status:"",max_sol:"",max_date:"",total_photos:0,cameras:[]};return n.a.createElement(Y.a.Group,{controlId:"roverSelector"},n.a.createElement(Y.a.Label,null,"Rover"),n.a.createElement(Y.a.Control,{as:"select",name:"selectedRover",onChange:function(e){return e.target&&e.target.value&&t(a.find(function(t){return t.name===e.target.value})||r)}},n.a.createElement("option",{value:""},"Select Rover..."),a.map(function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)})))}),Q=Object(o.b)(function(e){return{earthDate:e.formReducer.earthDate,selectedRover:e.formReducer.selectedRover}},{selectEarthDate:function(e){return{type:f,payload:e}}})(function(e){var t=e.earthDate,a=e.selectedRover,r=e.selectEarthDate;return n.a.createElement(Y.a.Group,{controlId:"earthDateSelector"},n.a.createElement(Y.a.Label,null,"Earth Date"),n.a.createElement(Y.a.Control,{disabled:!a.name,type:"date",name:"earthDate",min:a.landing_date?a.landing_date:0,max:a.max_date?a.max_date:0,value:t,onChange:function(e){return e.target&&e.target.value&&r(e.target.value)}}))}),z=Object(o.b)(function(e){return{selectedRover:e.formReducer.selectedRover,solDate:e.formReducer.solDate}},{selectSolDate:function(e){return{type:v,payload:e}}})(function(e){var t=e.selectedRover,a=e.solDate,r=e.selectSolDate;return n.a.createElement(Y.a.Group,{controlId:"solDateSelector"},n.a.createElement(Y.a.Label,null,"Sol Date"),n.a.createElement(Y.a.Control,{disabled:!t.name,type:"number",name:"solDate",min:"0",value:a,max:t.max_sol?t.max_sol:0,onChange:function(e){return e.target&&e.target.value&&r(e.target.value)}}))}),K=Object(o.b)(function(e){return{activeType:e.formReducer.dateType}},{setDateType:function(e){return{type:d,payload:e}}})(function(e){var t=e.activeType,a=e.setDateType;return n.a.createElement(Y.a.Text,{className:"text-muted"},n.a.createElement("span",{className:"date-switcher underlineHover",onClick:function(){return a(D===t?j:D)}},"Switch to ",D===t?j:D," date?"))}),Z=Object(o.b)(function(e){return{selectedRover:e.formReducer.selectedRover}},{selectCamera:function(e){return{type:h,payload:e}}})(function(e){var t=e.selectedRover,a=e.selectCamera;return n.a.createElement(Y.a.Group,{controlId:"cameraSelector"},n.a.createElement(Y.a.Label,null,"Camera"),n.a.createElement(Y.a.Control,{as:"select",name:"camera",disabled:!t||!t.name,onChange:function(e){return e.target&&e.target.value&&a(e.target.value)}},n.a.createElement("option",{value:""},"Any"),t&&t.cameras.map(function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.full_name)})))}),$=a(19),ee=a.n($),te=Object(o.b)(function(e){return{formData:e.formReducer}},{fetchImages:function(){return function(e,t){var a=t().formReducer;e({type:g});var r="".concat("https://mars-photos.herokuapp.com/api/v1/rovers/").concat(a.roverName,"/photos?");D===a.dateType&&a.earthDate?r+="earth_date=".concat(a.earthDate):j===a.dateType&&a.solDate&&(r+="sol=".concat(a.solDate)),a.camera&&(r+="&camera=".concat(a.camera)),ee.a.get(r).then(function(t){var a;e((a=t.data.photos,{type:y,payload:a}))}).catch(function(t){var a;e((a=t.response.data.errors,{type:b,payload:a}))})}}})(function(e){var t=e.formData,a=e.fetchImages;return Object(r.useEffect)(function(){a()}),n.a.createElement(V.a,{lg:12},n.a.createElement("h2",null,"Query the database"),n.a.createElement(Y.a,{className:"roverForm largeSpacer"},n.a.createElement(G.a,null,n.a.createElement(V.a,{lg:4},n.a.createElement(q,null)),n.a.createElement(V.a,{lg:4},D===t.dateType&&n.a.createElement(Q,null),j===t.dateType&&n.a.createElement(z,null),n.a.createElement(K,null)),n.a.createElement(V.a,{lg:4},n.a.createElement(Z,null)))))}),ae=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"The App"),n.a.createElement("p",null,"This app uses NASA's Mars Rover Photos API (",n.a.createElement("a",{href:"https://api.nasa.gov/api.html#MarsPhotos",className:"underlineHover",target:"_blank",rel:"noopener noreferrer"},"link"),") to display Photos taken by the three Martian rovers filtered by a particular Earth (or Sol) date. You may also filter the photos by specific camera. The app is written in React.js and uses the ",n.a.createElement("a",{rel:"noopener noreferrer",className:"underlineHover",href:"https://react-bootstrap.github.io/components/navbar/#navbars-colors",target:"_blank"},"react-bootstrap")," framework.",n.a.createElement("br",null),"To begin simply choose one of the three Rovers and optionally filter the results by date and/or camera. Each time a filter is selected the app will send an request and fetch a new result set which will be displayed."))},re=Object(o.b)(function(e){return{fetchError:e.roverReducer.error,fetchPending:e.roverReducer.pending,rovers:e.roverReducer.rovers}},{fetchRovers:function(){return function(e){e({type:m}),ee.a.get("https://mars-photos.herokuapp.com/api/v1/rovers/").then(function(t){var a;e((a=t.data.rovers,{type:i,payload:a}))}).catch(function(t){e({type:p,payload:t})})}}})(function(e){var t=e.fetchPending,a=e.fetchError,l=e.rovers,c=e.fetchRovers;return Object(r.useEffect)(function(){c()},[c]),n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{fixed:"top"},n.a.createElement(F.a.Brand,{href:"#home"},n.a.createElement("img",{alt:"",src:"images/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"}),"Mars Rovers Photos With React.js")),n.a.createElement(H.a,null,n.a.createElement(G.a,null,n.a.createElement(V.a,{lg:12},n.a.createElement(ae,null),!1!==t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Connecting... ",n.a.createElement(U.a,{animation:"grow"}))),""!==a&&n.a.createElement("h3",null," An error occured while fetching Rover data."),!1===t&&""===a&&l.length&&n.a.createElement("div",{className:"roversWrapper"},n.a.createElement("h2",null,"Meet the Rovers"),n.a.createElement(G.a,null,n.a.createElement(J,null)),n.a.createElement(G.a,null,n.a.createElement("div",{className:"largeSpacer"}),n.a.createElement(te,null)),n.a.createElement(G.a,null,n.a.createElement(V.a,{lg:12},n.a.createElement("div",{className:"largeSpacer"}),n.a.createElement("div",{className:"resultList"},n.a.createElement(X,null)))))))))}),ne=document.getElementById("root");c.a.render(n.a.createElement(o.a,{store:M},n.a.createElement(re,null)),ne)}},[[43,1,2]]]);
//# sourceMappingURL=main.d727aa43.chunk.js.map